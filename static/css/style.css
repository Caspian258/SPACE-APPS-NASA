/* Copiado de la versión completa para mantener la UI idéntica */
* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; height: 100%; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; color: #e8eef5; background: #0b1220; }
header { padding: 12px 20px; background: #0f1a2b; border-bottom: 1px solid #25324a; }
header h1 { margin: 0; font-size: 1.6rem; }
header p { margin: 4px 0 0; color: #b9c4d2; }

/* Botón imagen en esquina superior derecha */
header { position: relative; }
.icon-button { position: absolute; top: 18px; right: 28px; background: transparent; border: none; padding: 0; cursor: pointer; }
.icon-button img { width: 44px; height: 44px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.45)); }
.icon-button:hover img { transform: scale(1.08); transition: transform 0.15s ease; }

.layout { display: grid; grid-template-columns: 320px 1fr 360px; grid-template-rows: calc(100vh - 86px); gap: 0; }
.panel { padding: 14px; overflow: auto; height: calc(100vh - 86px); }
.panel.control { background: #0c1728; border-right: 1px solid #22304a; }
.panel.visualize { background: #0b1220; }
.panel.results { background: #0c1728; border-left: 1px solid #22304a; }

.control h2, .results h2 { margin-top: 0; font-size: 1.1rem; }
.control-group { margin-bottom: 14px; }
.control-group label { display: block; margin-bottom: 6px; font-weight: 600; }
.value { font-size: 0.9rem; color: #a9b6c7; margin-top: 4px; }
.value.small { font-size: 0.8rem; }

input[type="range"] { width: 100%; }
input[type="number"] { width: 100%; padding: 8px; background: #0b1526; border: 1px solid #22304a; color: #e8eef5; border-radius: 6px; }

.simulate { width: 100%; padding: 10px 12px; background: #2a7de1; color: #fff; border: none; border-radius: 6px; cursor: pointer; font-size: 1rem; font-weight: 600; margin: 6px 0 12px; }
.simulate:hover { background: #1f6bbf; }
.toggle-views { display: flex; gap: 8px; }
.toggle-views button { flex: 1; padding: 8px; background: #18263f; color: #e8eef5; border: 1px solid #22304a; border-radius: 6px; cursor: pointer; }
.toggle-views button:hover { background: #1a2b48; }

.viz { width: 100%; height: calc(100vh - 86px); }
.hidden { display: none; }

.map-select { height: 220px; border: 1px solid #22304a; border-radius: 8px; overflow: hidden; }
#map2D { border-left: 1px solid #22304a; }

.results-list { list-style: none; padding: 0; margin: 0 0 12px 0; }
.results-list li { padding: 8px 8px; background: #0b1526; border: 1px solid #22304a; border-radius: 6px; margin-bottom: 8px; }
.layers label { display: block; margin-bottom: 8px; }
.neo-picker { margin-top: 12px; padding: 10px; background: #0b1526; border: 1px solid #22304a; border-radius: 6px; }
.neo-history { display: flex; flex-direction: column; gap: 6px; }
.neo-history button { width: 100%; padding: 6px 8px; background: #18263f; color: #e8eef5; border: 1px solid #22304a; border-radius: 6px; cursor: pointer; text-align: left; }
.neo-history button:hover { background: #1a2b48; }

/* Legend */
.legend-list { display: grid; grid-template-columns: 1fr; gap: 6px; margin-top: 6px; }
.legend-item { display: flex; align-items: center; gap: 8px; background: #0b1526; border: 1px solid #22304a; border-radius: 6px; padding: 6px 8px; color: #e8eef5; }
.legend-item .swatch { width: 16px; height: 16px; border-radius: 3px; display: inline-block; border: 1px solid rgba(255,255,255,0.25); }

footer { padding: 10px 16px; border-top: 1px solid #25324a; background: #0f1a2b; color: #9fb0c7; }

/* Footer icon button */
footer { position: relative; }
.footer-icon-button { position: absolute; right: 14px; bottom: 10px; background: transparent; border: none; padding: 0; cursor: pointer; }
.footer-icon-button img { width: 28px; height: 28px; filter: drop-shadow(0 1px 2px rgba(0,0,0,0.4)); }

/* ============================================= */
/* == MODO AMIGABLE PARA DALTÓNICOS (ALTO CONTRASTE) == */
/* ============================================= */

body.colorblind-mode {
	background: #1d2021;
	color: #fbf1c7;
}

body.colorblind-mode header,
body.colorblind-mode footer {
	background: #282828;
	border-color: #665c54;
}

body.colorblind-mode header p,
body.colorblind-mode .value,
body.colorblind-mode footer {
	color: #d5c4a1;
}

body.colorblind-mode .panel.control,
body.colorblind-mode .panel.results,
body.colorblind-mode .viewer-left {
	background: #282828;
	border-color: #665c54;
}

body.colorblind-mode .panel.visualize,
body.colorblind-mode .viewer-right {
	background: #1d2021;
	border-color: #665c54;
}

body.colorblind-mode input[type="number"],
body.colorblind-mode .results-list li,
body.colorblind-mode .neo-picker,
body.colorblind-mode .legend-item {
	background: #1d2021;
	border-color: #665c54;
	color: #fbf1c7;
}

body.colorblind-mode .simulate {
	background: #fe8019;
	color: #1d2021;
}

body.colorblind-mode .simulate:hover {
	background: #d65d0e;
}

body.colorblind-mode .toggle-views button,
body.colorblind-mode .neo-history button,
body.colorblind-mode .toggle {
	background: #458588;
	color: #fbf1c7;
	border-color: #83a598;
}

body.colorblind-mode .toggle-views button:hover,
body.colorblind-mode .neo-history button:hover,
body.colorblind-mode .toggle:hover {
	background: #076678;
}

body.colorblind-mode .leaflet-container {
	background: #1d2021;
}

body.colorblind-mode .tooltip .tooltiptext {
	background-color: #32302f;
	border-color: #665c54;
}

/* Leaflet dark tweaks */
.leaflet-container { background: #0b1220; }

/* Tooltip */
.tooltip { position: relative; display: inline-block; cursor: help; }
.tooltip .tooltiptext { visibility: hidden; width: 220px; background-color: #1c2a45; color: #fff; text-align: left; border-radius: 6px; padding: 8px; position: absolute; z-index: 1; bottom: 125%; left: 50%; margin-left: -110px; border: 1px solid #2a3b62; }
.tooltip:hover .tooltiptext { visibility: visible; }

/* Visor de Asteroides */
.viewer { padding: 14px; }
.viewer-header { display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 10px; }
.viewer-grid { display: grid; grid-template-columns: 360px 1fr; gap: 12px; height: calc(100vh - 86px); }
.viewer-left { background: #0c1728; border: 1px solid #22304a; border-radius: 8px; padding: 12px; overflow: auto; }
.viewer-right { background: #0b1220; border: 1px solid #22304a; border-radius: 8px; overflow: hidden; }
.toggle { width: 100%; padding: 8px; background: #18263f; color: #e8eef5; border: 1px solid #22304a; border-radius: 6px; cursor: pointer; }
.toggle:hover { background: #1a2b48; }
